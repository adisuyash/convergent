{"name":"main.luanb","content":{"cells":{"5dd7a087-07a2-41cc-ab68-015a83d33f5a":{"code":"-- dbAdmin:exec([[DELETE FROM Users WHERE UID = \"AgSwemqzno8dfcCy4Pc37ZcJOqPUAqCDefJTLObIC_4\";]])\n-- dbAdmin:exec([[DELETE FROM Orders WHERE OrderID = \"d5f37073\";]])\n-- dbAdmin:exec([[DELETE FROM Orders WHERE Side = \"Short\";]])\n-- dbAdmin:exec([[DELETE FROM Positions WHERE Side = \"Long\";]])\n-- dbAdmin:exec([[DELETE FROM Markets WHERE MarketID = \"2eebc8ef\";]])\ndbAdmin:exec([[SELECT * from Users;]])\n-- dbAdmin:exec([[SELECT * from Markets;]])\n-- dbAdmin:exec([[SELECT * from Orders;]])\n-- dbAdmin:exec([[SELECT * from Positions;]])","output":"{\n  {\n     \u001b[31mBalance\u001b[0m = \u001b[34m1200.0\u001b[0m,\n     \u001b[31mUID\u001b[0m = \u001b[32m\"PVU35t7MLuI_6f73ix-GWULD5qadJBEHIr3PV7Zj75k\"\u001b[0m\n  },\n  {\n     \u001b[31mBalance\u001b[0m = \u001b[34m3000.0\u001b[0m,\n     \u001b[31mUID\u001b[0m = \u001b[32m\"qYK8zQz3RZQFy2g372yPWW8H1XolWaaAHQfpw5ubcXQ\"\u001b[0m\n  },\n  {\n     \u001b[31mBalance\u001b[0m = \u001b[34m10000.0\u001b[0m,\n     \u001b[31mUID\u001b[0m = \u001b[32m\"AgSwemqzno8dfcCy4Pc37ZcJOqPUAqCDefJTLObIC_4\"\u001b[0m\n  },\n  {\n     \u001b[31mBalance\u001b[0m = \u001b[34m10000.0\u001b[0m,\n     \u001b[31mUID\u001b[0m = \u001b[32m\"njmnUpLzADMY7mfra0BODaAwTEVo0OwVS7z2nTJTD14\"\u001b[0m\n  },\n  {\n     \u001b[31mBalance\u001b[0m = \u001b[34m10000.0\u001b[0m,\n     \u001b[31mUID\u001b[0m = \u001b[32m\"zBBCc4yIvbs2kS2t1ZsAhjThkC15P2Y5ICryqN2agus\"\u001b[0m\n  },\n  {\n     \u001b[31mBalance\u001b[0m = \u001b[34m10000.0\u001b[0m,\n     \u001b[31mUID\u001b[0m = \u001b[32m\"jwMkYR1hxDIiTOKsWEauSX3iJ-bJv93YCOD57e5VMXw\"\u001b[0m\n  }\n }","type":"CODE","editing":true},"92968f3e-aa04-4adb-9a55-4680572d7d60":{"code":"Send({Target = ao.id, Action = \"Register\"})\n-- Send({Target = ao.id, Action = \"CreateMarket\", BaseCurrency = \"AR\", QuoteCurrency = \"USD\", IndexPrice = \"0.0\"})\n-- Send({Target = ao.id, Action = \"UpdateMarket\", IndexPrice = \"26.062867\", FundingRate = \"0.003\", MarketID = \"2298405b\"})\n-- Send({Target = ao.id, Action = \"Deposit\", Amount = \"100.0\"})\n-- Send({Target = ao.id, Action = \"Withdraw\", Amount = \"10.0\"})\n-- Send({Target = ao.id, Action = \"GetIndexPrice\"})\n-- Send({Target = ao.id, Action = \"PlaceOrder\", MarketID = \"2298405b\", OrderType = \"Short\", Side = \"Short\", Amount = \"6\", Price = \"26.6\", Leverage = \"1\"})\n","output":"message added to outbox","type":"CODE","editing":true},"3068e90b-a808-405f-aa6c-07481ad7d3bc":{"code":"-- print(getAvailableMargin(\"PVU35t7MLuI_6f73ix-GWULD5qadJBEHIr3PV7Zj75k\"))\n-- print(canPlaceOrder(\"PVU35t7MLuI_6f73ix-GWULD5qadJBEHIr3PV7Zj75k\", \"2eebc8ef\", 0.01, 1))","output":true,"type":"CODE","editing":true},"75bcc1f9-7369-41b6-8519-cf0dfe34a5de":{"code":"-- updateFunding(\"2eebc8ef\")\nupdateMarketPrices()\n-- fetchMarketPrice(\"ko\")","output":"\"undefined\"","type":"CODE","editing":true},"9146a050-65e5-4165-a009-904c839652fd":{"code":"dbAdmin:exec(string.format([[\n      INSERT INTO Users (UID, Balance) VALUES (\"%s\", 10000);\n    ]], \"jwMkYR1hxDIiTOKsWEauSX3iJ-bJv93YCOD57e5VMXw\"))","output":"[string \".handlers\"]:335: UNIQUE constraint failed: Users.UID","type":"CODE","editing":true}},"cellOrder":["9146a050-65e5-4165-a009-904c839652fd","3068e90b-a808-405f-aa6c-07481ad7d3bc","92968f3e-aa04-4adb-9a55-4680572d7d60","75bcc1f9-7369-41b6-8519-cf0dfe34a5de","5dd7a087-07a2-41cc-ab68-015a83d33f5a"]},"language":"lua","type":"NOTEBOOK"}